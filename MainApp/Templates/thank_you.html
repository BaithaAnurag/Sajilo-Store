<!DOCTYPE html>
<html lang="en" x-data="{ darkMode: false }" :class="{ 'dark': darkMode }"  xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dark Mode Toggle Test</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Enable Tailwind's dark mode class strategy
    tailwind.config = {
      darkMode: 'class'
    }
  </script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-500">

  <div class="min-h-screen flex flex-col items-center justify-center">
    <h1 class="text-3xl mb-6">Dark Mode Toggle Test</h1>
    <button
      @click="darkMode = !darkMode"
      class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400"
    >
      Toggle Dark Mode
    </button>
    <p class="mt-6 text-center max-w-sm">
      The background and text colors should toggle when you click the button.
    </p>
  </div>

</body>
</html>
<!DOCTYPE html>
<html lang="en" x-data="{ darkMode: false, cartCount: 0 }" :class="{ 'dark': darkMode }">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>E-Shop - Home</title>
  <link rel="icon" href="favicon.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
    }
  </script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://unpkg.com/htmx.org@1.9.2"></script>
  <style>
    /* Hide scrollbar for carousel */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>
<body class="bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-500 min-h-screen relative">

  <!-- Floating Cart Icon -->
  <div
    @click="window.location.href = '/cart/'"
    class="fixed bottom-6 right-6 bg-blue-600 text-white rounded-full w-14 h-14 flex items-center justify-center cursor-pointer shadow-lg hover:bg-blue-700 transition"
    title="View Cart"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4" />
      <circle cx="7" cy="21" r="1" />
      <circle cx="17" cy="21" r="1" />
    </svg>
    <span
      x-show="cartCount > 0"
      x-text="cartCount"
      class="absolute top-0 right-0 -mt-1 -mr-1 bg-red-600 rounded-full text-xs w-5 h-5 flex items-center justify-center"
    ></span>
  </div>

  <!-- Navbar -->
  <header class="bg-white dark:bg-gray-800 shadow sticky top-0 z-50 transition-colors duration-300">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <a href="/" class="text-2xl font-bold text-blue-600 dark:text-blue-400">E-Shop</a>
      <nav class="space-x-6 text-gray-800 dark:text-gray-200 hidden sm:flex">
        <a href="/" class="hover:text-blue-600 dark:hover:text-blue-400">Home</a>
        <a href="/shop/" class="hover:text-blue-600 dark:hover:text-blue-400">Shop</a>
        <a href="/about/" class="hover:text-blue-600 dark:hover:text-blue-400">About</a>
        <a href="/contact/" class="hover:text-blue-600 dark:hover:text-blue-400">Contact</a>
        <a href="/login/" class="hover:text-blue-600 dark:hover:text-blue-400">Login</a>
      </nav>
      <!-- Dark Mode Toggle -->
      <button
        @click="darkMode = !darkMode"
        aria-label="Toggle Dark Mode"
        class="ml-4 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition"
        :title="darkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode'"
      >
        <template x-if="!darkMode">
          <!-- Moon icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
          </svg>
        </template>
        <template x-if="darkMode">
          <!-- Sun icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5" />
            <line x1="12" y1="1" x2="12" y2="3" />
            <line x1="12" y1="21" x2="12" y2="23" />
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
            <line x1="1" y1="12" x2="3" y2="12" />
            <line x1="21" y1="12" x2="23" y2="12" />
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
          </svg>
        </template>
      </button>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="bg-gray-100 dark:bg-gray-900 py-16 transition-colors duration-300">
    <div class="max-w-7xl mx-auto px-4 text-center">
      <h1 class="text-4xl font-bold mb-4">Discover Our Latest Collection</h1>
      <p class="text-lg mb-6 text-gray-700 dark:text-gray-300">Trendy. Affordable. Quality Guaranteed.</p>
      <a href="/shop/" class="bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition">Shop Now</a>
    </div>
  </section>

  <!-- Category Highlights -->
  <section class="py-12 bg-white dark:bg-gray-800 transition-colors duration-300">
    <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-6">
      <div
        class="bg-gray-50 dark:bg-gray-700 p-6 rounded-xl shadow hover:shadow-md transition cursor-pointer"
        onclick="location.href='/category/men/'"
      >
        <h2 class="text-xl font-semibold mb-2">Men's Fashion</h2>
        <a href="/category/men/" class="text-blue-600 hover:underline dark:text-blue-400">Explore</a>
      </div>
      <div
        class="bg-gray-50 dark:bg-gray-700 p-6 rounded-xl shadow hover:shadow-md transition cursor-pointer"
        onclick="location.href='/category/women/'"
      >
        <h2 class="text-xl font-semibold mb-2">Women's Fashion</h2>
        <a href="/category/women/" class="text-blue-600 hover:underline dark:text-blue-400">Explore</a>
      </div>
      <div
        class="bg-gray-50 dark:bg-gray-700 p-6 rounded-xl shadow hover:shadow-md transition cursor-pointer"
        onclick="location.href='/category/accessories/'"
      >
        <h2 class="text-xl font-semibold mb-2">Accessories</h2>
        <a href="/category/accessories/" class="text-blue-600 hover:underline dark:text-blue-400">Explore</a>
      </div>
    </div>
  </section>

  <!-- Featured Products Carousel -->
  <section class="py-12">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-2xl font-bold mb-6">Featured Products</h2>
      <div x-data="{
            scrollLeft() { this.$refs.carousel.scrollBy({ left: -300, behavior: 'smooth' }) },
            scrollRight() { this.$refs.carousel.scrollBy({ left: 300, behavior: 'smooth' }) }
          }"
          class="relative"
      >
        <button
          @click="scrollLeft"
          class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 shadow p-2 rounded-full z-10 hover:bg-gray-200 dark:hover:bg-gray-700 transition"
          aria-label="Scroll Left"
        >
          &#8592;
        </button>

        <div
          x-ref="carousel"
          class="flex gap-6 overflow-x-auto scroll-smooth no-scrollbar py-4 px-1"
        >
          <!-- Example products: Replace with your backend dynamic data -->
          <template x-for="product in [
            {id: 1, name: 'Classic Tee', price: 25, image: 'https://via.placeholder.com/250x150?text=Classic+Tee'},
            {id: 2, name: 'Stylish Jacket', price: 90, image: 'https://via.placeholder.com/250x150?text=Stylish+Jacket'},
            {id: 3, name: 'Comfy Sneakers', price: 60, image: 'https://via.placeholder.com/250x150?text=Comfy+Sneakers'},
            {id: 4, name: 'Elegant Watch', price: 120, image: 'https://via.placeholder.com/250x150?text=Elegant+Watch'},
            {id: 5, name: 'Leather Wallet', price: 45, image: 'https://via.placeholder.com/250x150?text=Leather+Wallet'}
          ]" :key="product.id">
            <div
              class="min-w-[250px] flex-shrink-0 bg-white dark:bg-gray-800 shadow rounded-xl overflow-hidden hover:shadow-lg transition"
            >
              <img
                :src="product.image"
                :alt="product.name"
                class="w-full h-48 object-cover"
                loading="lazy"
              />
              <div class="p-4">
                <h3 class="text-lg font-semibold mb-1" x-text="product.name"></h3>
                <p class="text-gray-600 dark:text-gray-300 mb-2" x-text="'$' + product.price"></p>
                <button
                  @click="cartCount++"
                  hx-post="/cart/add/" 
                  hx-vals='{"product_id": product.id}'
                  hx-swap="none"
                  class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition w-full"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </template>
        </div>

        <button
          @click="scrollRight"
          class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 shadow p-2 rounded-full z-10 hover:bg-gray-200 dark:hover:bg-gray-700 transition"
          aria-label="Scroll Right"
        >
          &#8594;
        </button>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="py-12 bg-gray-100 dark:bg-gray-900 transition-colors duration-300">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h2 class="text-2xl font-bold mb-8">What Our Customers Say</h2>
      <div
        x-data="{
          testimonials: [
            { id: 1, text: 'Great quality and fast delivery!', author: 'Jane D.' },
            { id: 2, text: 'Awesome customer service and nice products.', author: 'Mike S.' },
            { id: 3, text: 'Highly recommend this store.', author: 'Sophia L.' }
          ],
          index: 0,
          next() { this.index = (this.index + 1) % this.testimonials.length },
          prev() { this.index = (this.index + this.testimonials.length - 1) % this.testimonials.length }
        }"
        class="relative max-w-xl mx-auto"
      >
        <div class="mb-6 text-lg italic text-gray-700 dark:text-gray-300 min-h-[80px]">
          <template x-for="(testimonial, i) in testimonials" :key="testimonial.id">
            <p x-show="i === index" x-transition.duration.500ms x-cloak x-text="testimonial.text"></p>
          </template>
        </div>
        <div class="mb-4 font-semibold text-gray-900 dark:text-gray-100" x-text="testimonials[index].author"></div>
        <div class="space-x-4">
          <button @click="prev" class="px-3 py-1 rounded bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 transition">Prev</button>
          <button @click="next" class="px-3 py-1 rounded bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-gray-600 transition">Next</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-white dark:bg-gray-800 text-center text-gray-700 dark:text-gray-300 py-6 mt-auto">
    &copy; 2025 E-Shop. All rights reserved.
  </footer>

</body>  
</html>
